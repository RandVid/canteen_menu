<div class="container mt-4">
    <div class="row d-flex align-items-center justify-content-center">
        <form method="post">
            {% csrf_token %}
            <div class="row">
                <div class="col">
                  <input type="text" class="form-control form-control-lg" placeholder="IeÅ¡koti" name="input-value">
                </div>
            </div>
            <div class="dropdown">
                <button type="button" class="btn btn-secondary dropdown-toggle btn-sm py-0" data-bs-toggle="dropdown">
                  Daugiau
                </button>
                <div class="dropdown-menu w-100">
                  <div class="row d-flex align-items-center justify-content-center">
                    <div class="row">
                      <div class="col">
                         <div class="form-check">
                             {% for x in categories %}
                                 <input class="form-check-input" type="checkbox" name="C-{{ x.name }}" value="something" checked>
                                 <label class="form-check-label">{{ x.name }}</label>
                                 <br/>
                             {% endfor %}
                         </div>
                         <div class="form-check mt-2">
                             <input class="form-check-input" type="checkbox" name="only-vegan" value="something">
                             <label class="form-check-label">Tik Vegan</label>
                         </div>
                      </div>
                      <div class="col">
                        <input id="multi3" class="multi-range" type="range" />
                      </div>
                    </div>
                  </div>
                </div>
          </div>
        </form>
    </div>

</div>
<script>
    $(document).ready(function () {
        // Change event for any form element
        $('form').on('change input', 'input, select, textarea', function () {
            // Get the form data
            var formData = new FormData($('form')[0]);

            // Send a POST request to your Django view
            $.ajax({
                url: '/',
                type: 'POST',
                processData: false,  // Prevent jQuery from processing the data
                contentType: false,
                data: formData,
                beforeSend: function (xhr) {
                    xhr.setRequestHeader('X-CSRFToken', '{{ csrf_token }}');
                },
                success: function(data) {
                    // Handle the response from the server if needed
                    $('#meals-container1').html(data.meals1);
                    $('#meals-container2').html(data.meals2);
                    $('#meals-container3').html(data.meals3);
                },
                error: function(error) {
                    // Update the content on success
                    console.log("aboba")
                }
            });
        });

        $('#multi3').mdbRange({
            width: '100%',
            single: {
                active: true,
                multi: {
                    active: true,
                    rangeLength: 2
                },
            }
        });
    });
</script>

<style>
    *,
    *:before,
    *:after{
        padding: 0;
        margin: 0;
        box-sizing: border-box;
        font-family: "Poppins",sans-serif;
    }
    body{
        height: 100vh;
        display: -ms-grid;
        display: grid;
        background-color: #3264fe;
        place-items: center;
    }
    .wrapper{
        position: relative;
        width: 95vmin;
        background-color: #ffffff;
        padding: 50px 40px 20px 40px;
        border-radius: 10px;
    }
    .container{
        position: relative;
        width: 100%;
        height: 100px;
        margin-top: 30px;
    }
    input[type="range"]{
        -webkit-appearance: none;
        -moz-appearance: none;
        appearance: none;
        width: 100%;
        outline: none;
        position: absolute;
        margin: auto;
        top: 0;
        bottom: 0;
        background-color: transparent;
        pointer-events: none;
    }
    .slider-track{
        width: 100%;
        height: 5px;
        position: absolute;
        margin: auto;
        top: 0;
        bottom: 0;
        border-radius: 5px;
    }
    input[type="range"]::-webkit-slider-runnable-track{
        -webkit-appearance: none;
        height: 5px;
    }
    input[type="range"]::-moz-range-track{
        -moz-appearance: none;
        height: 5px;
    }
    input[type="range"]::-ms-track{
        appearance: none;
        height: 5px;
    }
    input[type="range"]::-webkit-slider-thumb{
        -webkit-appearance: none;
        height: 1.7em;
        width: 1.7em;
        background-color: #3264fe;
        cursor: pointer;
        margin-top: -9px;
        pointer-events: auto;
        border-radius: 50%;
    }
    input[type="range"]::-moz-range-thumb{
        -webkit-appearance: none;
        height: 1.7em;
        width: 1.7em;
        cursor: pointer;
        border-radius: 50%;
        background-color: #3264fe;
        pointer-events: auto;
    }
    input[type="range"]::-ms-thumb{
        appearance: none;
        height: 1.7em;
        width: 1.7em;
        cursor: pointer;
        border-radius: 50%;
        background-color: #3264fe;
        pointer-events: auto;
    }
    input[type="range"]:active::-webkit-slider-thumb{
        background-color: #ffffff;
        border: 3px solid #3264fe;
    }
    .values{
        background-color: #3264fe;
        width: 32%;
        position: relative;
        margin: auto;
        padding: 10px 0;
        border-radius: 5px;
        text-align: center;
        font-weight: 500;
        font-size: 25px;
        color: #ffffff;
    }
    .values:before{
        content: "";
        position: absolute;
        height: 0;
        width: 0;
        border-top: 15px solid #3264fe;
        border-left: 15px solid transparent;
        border-right: 15px solid transparent;
        margin: auto;
        bottom: -14px;
        left: 0;
        right: 0;
    }
</style>
